<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="An enterprise-class UI design language and React-based implementation with a set of high-quality React components, one of best React UI library for enterprises">
    <title>MHC Antd Admin - 开箱即用的中台前端/设计解决方案</title>
    <!-- Polyfills -->
    <!--[if IE]>
    <script src="https://as.alipayobjects.com/g/component/??es6-shim/0.35.1/es6-sham.min.js,es6-shim/0.35.1/es6-shim.min.js"></script>
    <![endif]-->
    <link rel="icon" href="//img.maihaoche.com/mhc-fe/muu/1.6.6/muu/images/favicon.png">
    <link rel="stylesheet" type="text/css" href="/mhc-antd-admin/index-1.css"/>
    <link rel="stylesheet" type="text/css" href="/mhc-antd-admin/index-2.css"/>
    <style id="nprogress-style">
      #nprogress { display: none }
    </style>
    <script>
      (function() {
        var pathname = location.pathname;
        if(pathname.indexOf('-cn')===-1){
          pathname += pathname.endsWith('/') ? 'index-cn' : '-cn'
          location.pathname = pathname;
          document.documentElement.className += 'zh-cn';
        }
      })()
      </script>
    <script>
    if (!window.Intl) {
      document.writeln('<script src="https://as.alipayobjects.com/g/component/intl/1.0.1/??Intl.js,locale-data/jsonp/en.js,locale-data/jsonp/zh.js">' + '<' + '/script>');
    }
    if (!window.Promise) {
      document.writeln('<script src="https://as.alipayobjects.com/g/component/es6-promise/3.2.2/es6-promise.min.js"' + '>' + '<' + '/' + 'script>');
    }
    </script>
  <link href="/mhc-antd-admin/index.97cf60-1.css" rel="stylesheet"><link href="/mhc-antd-admin/index.97cf60-2.css" rel="stylesheet"><link href="/mhc-antd-admin/index.97cf60-3.css" rel="stylesheet"></head>
  <body>
    <div id="react-content">
      <div class="page-wrapper" data-reactroot=""><header id="header" class="clearfix"><div class="ant-row"><div class="ant-col-xs-24 ant-col-sm-24 ant-col-md-6 ant-col-lg-5 ant-col-xl-5 ant-col-xxl-4"><a id="logo" href="/"><img alt="logo" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMjAwcHgiIGhlaWdodD0iMTE1cHgiIHZpZXdCb3g9IjAgMCAyMDAgMTE1IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA0OC4yICg0NzMyNykgLSBodHRwOi8vd3d3LmJvaGVtaWFuY29kaW5nLmNvbS9za2V0Y2ggLS0+CiAgICA8dGl0bGU+R3JvdXAgNDwvdGl0bGU+CiAgICA8ZGVzYz5DcmVhdGVkIHdpdGggU2tldGNoLjwvZGVzYz4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iODIuMTYwNDgwNiUiIHkxPSI5LjQ4NjM3MTcxJSIgeDI9IjI3LjU1MzIwMzclIiB5Mj0iODcuMjc2MzMyNCUiIGlkPSJsaW5lYXJHcmFkaWVudC0xIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRDAwMCIgb2Zmc2V0PSIwJSI+PC9zdG9wPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZBMjAwIiBvZmZzZXQ9IjEwMCUiPjwvc3RvcD4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgaWQ9IlhJQU9DSEVOR1hJIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzU2LjAwMDAwMCwgLTgzLjAwMDAwMCkiPgogICAgICAgIDxnIGlkPSJHcm91cC00IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzNTYuMDAwMDAwLCAzOC4wMDAwMDApIiBmaWxsPSJ1cmwoI2xpbmVhckdyYWRpZW50LTEpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTU4LjUzNjU4NTQsMTQzLjM3NjczIEw1MC4xNjEzMTU3LDE0My4zNzY3MyBMMjcuMjAzNTAxLDE0My4zNzY3MyBDMjMuMzQwNTc3NSwxNDMuMzc2NzMgMjAuMjA5MDU5MiwxNDAuMjQ1MjEyIDIwLjIwOTA1OTIsMTM2LjM4MjI4OCBDMjAuMjA5MDU5MiwxMzIuNTE5MzY1IDIzLjM0MDU3NzUsMTI5LjM4Nzg0NiAyNy4yMDM1MDEsMTI5LjM4Nzg0NiBMNDkuNDc3MzUxOSwxMjkuMzg3ODQ2IEw1Mi4yMzkwMDc3LDEyOS4zODc4NDYgQzU2LjEwMTkzMTIsMTI5LjM4Nzg0NiA1OS4yMzM0NDk1LDEyNi4yNTYzMjggNTkuMjMzNDQ5NSwxMjIuMzkzNDA1IEM1OS4yMzM0NDk1LDExOC41MzA0ODEgNTYuMTAxOTMxMiwxMTUuMzk4OTYzIDUyLjIzOTAwNzcsMTE1LjM5ODk2MyBMNDkuNDc3MzUxOSwxMTUuMzk4OTYzIEwxMi40NDE0NDkyLDExNS4zOTg5NjMgQzguNTc4NTI1NjksMTE1LjM5ODk2MyA1LjQ0NzAwNzQ1LDExMi4yNjc0NDUgNS40NDcwMDc0NSwxMDguNDA0NTIxIEM1LjQ0NzAwNzQ1LDEwNC41NDE1OTggOC41Nzg1MjU2OSwxMDEuNDEwMDc5IDEyLjQ0MTQ0OTIsMTAxLjQxMDA3OSBMNDkuNDc3MzUxOSwxMDEuNDEwMDc5IEw2MC42MDEzNzcxLDEwMS40MTAwNzkgQzY0LjQ2NDMwMDYsMTAxLjQxMDA3OSA2Ny41OTU4MTg4LDk4LjI3ODU2MTIgNjcuNTk1ODE4OCw5NC40MTU2Mzc3IEM2Ny41OTU4MTg4LDkwLjU1MjcxNDIgNjQuNDY0MzAwNiw4Ny40MjExOTYgNjAuNjAxMzc3MSw4Ny40MjExOTYgTDQ5LjQ3NzM1MTksODcuNDIxMTk2IEwyMC45MzE3MjQsODcuNDIxMTk2IEMxNy4wNjg4MDA1LDg3LjQyMTE5NiAxMy45MzcyODIyLDg0LjI4OTY3NzcgMTMuOTM3MjgyMiw4MC40MjY3NTQyIEMxMy45MzcyODIyLDc2LjU2MzgzMDcgMTcuMDY4ODAwNSw3My40MzIzMTI1IDIwLjkzMTcyNCw3My40MzIzMTI1IEw0OS40NzczNTE5LDczLjQzMjMxMjUgTDc1LjIzNTUyMzQsNzMuNDMyMzEyNSBDNzkuMDk4NDQ2OSw3My40MzIzMTI1IDgyLjIyOTk2NTIsNzAuMzAwNzk0MiA4Mi4yMjk5NjUyLDY2LjQzNzg3MDcgQzgyLjIyOTk2NTIsNjIuNTc0OTQ3MiA3OS4wOTg0NDY5LDU5LjQ0MzQyOSA3NS4yMzU1MjM0LDU5LjQ0MzQyOSBMNDkuNDc3MzUxOSw1OS40NDM0MjkgTDM0Ljg2OTAwNjIsNTkuNDQzNDI5IEMzMS4wMDYwODI3LDU5LjQ0MzQyOSAyNy44NzQ1NjQ1LDU2LjMxMTkxMDcgMjcuODc0NTY0NSw1Mi40NDg5ODcyIEMyNy44NzQ1NjQ1LDQ4LjU4NjA2MzcgMzEuMDA2MDgyNyw0NS40NTQ1NDU1IDM0Ljg2OTAwNjIsNDUuNDU0NTQ1NSBMNjAuNjAxMzc3MSw0NS40NTQ1NDU1IEwxMzYuNTg0MDksNDUuNDU0NTQ1NSBDMTM4LjEyNDI2NCw0NS40NTQ1NDU1IDEzOS4zNzI4MjIsNDYuNzAzMTAzNSAxMzkuMzcyODIyLDQ4LjI0MzI3NzggTDEzOS4zNzI4MjIsNjAuMTQyODczMSBMMTcwLjY4NTE5Miw2MC4xNDI4NzMxIEMxNzEuNTg4NjY3LDYwLjE0Mjg3MzEgMTcyLjQzNjE1OSw2MC41ODA1NjE1IDE3Mi45NTkxNjIsNjEuMzE3MjY3NCBMMTk5LjQ4NTIzOCw5OC42ODIxMjAzIEMxOTkuODIwMTA3LDk5LjE1MzgxOTEgMjAwLDk5LjcxNzk4MDUgMjAwLDEwMC4yOTY0NTggTDIwMCwxNDAuNTg3OTk4IEMyMDAsMTQyLjEyODE3MiAxOTguNzUxNDQyLDE0My4zNzY3MyAxOTcuMjExMjY4LDE0My4zNzY3MyBMMTg0LjY2ODk5LDE0My4zNzY3MyBDMTg0LjY2ODk5LDEzMS43ODc5NTkgMTc1LjMwOTA4OSwxMjIuMzkzNDA1IDE2My43NjMwNjYsMTIyLjM5MzQwNSBDMTUyLjIxNzA0NCwxMjIuMzkzNDA1IDE0Mi44NTcxNDMsMTMxLjc4Nzk1OSAxNDIuODU3MTQzLDE0My4zNzY3MyBMMTI0LjA0MTgxMiwxNDMuMzc2NzMgTDEwMC4zNDg0MzIsMTQzLjM3NjczIEMxMDAuMzQ4NDMyLDEzMS43ODc5NTkgOTAuOTg4NTMxNCwxMjIuMzkzNDA1IDc5LjQ0MjUwODcsMTIyLjM5MzQwNSBDNjcuODk2NDg2MSwxMjIuMzkzNDA1IDU4LjUzNjU4NTQsMTMxLjc4Nzk1OSA1OC41MzY1ODU0LDE0My4zNzY3MyBaIE0xNDkuODI3MDYsNjcuMTM3MzE0OSBDMTQ4LjI4Njg4Niw2Ny4xMzczMTQ5IDE0Ny4wMzgzMjgsNjguMzg1ODcyOSAxNDcuMDM4MzI4LDY5LjkyNjA0NzMgTDE0Ny4wMzgzMjgsOTQuMDA3ODI5MSBDMTQ3LjAzODMyOCw5NS41NDgwMDM0IDE0OC4yODY4ODYsOTYuNzk2NTYxNSAxNDkuODI3MDYsOTYuNzk2NTYxNSBMMTgwLjM4Nzk1OSw5Ni43OTY1NjE1IEMxODAuOTY1NTI5LDk2Ljc5NjU2MTUgMTgxLjUyODg1MSw5Ni42MTcyMzEzIDE4Mi4wMDAxMjksOTYuMjgzMzM2OSBDMTgzLjI1Njg1Nyw5NS4zOTI5NiAxODMuNTUzODQzLDkzLjY1MjM4NzMgMTgyLjY2MzQ2Niw5Mi4zOTU2NTkgTDE2NS42MDE4MTMsNjguMzEzODc3MiBDMTY1LjA3ODk3LDY3LjU3NTkwNzUgMTY0LjIzMDcxOCw2Ny4xMzczMTQ5IDE2My4zMjYzMDUsNjcuMTM3MzE0OSBMMTQ5LjgyNzA2LDY3LjEzNzMxNDkgWiBNNi45OTQ0NDE3NSwxMjkuMzg3ODQ2IEw5LjczMDI5NjkzLDEyOS4zODc4NDYgQzEzLjU5MzIyMDQsMTI5LjM4Nzg0NiAxNi43MjQ3Mzg3LDEzMi41MTkzNjUgMTYuNzI0NzM4NywxMzYuMzgyMjg4IEMxNi43MjQ3Mzg3LDE0MC4yNDUyMTIgMTMuNTkzMjIwNCwxNDMuMzc2NzMgOS43MzAyOTY5MywxNDMuMzc2NzMgTDYuOTk0NDQxNzUsMTQzLjM3NjczIEMzLjEzMTUxODI0LDE0My4zNzY3MyA0LjczMDcxNjkxZS0xNiwxNDAuMjQ1MjEyIDAsMTM2LjM4MjI4OCBDLTQuNzMwNzE2OTFlLTE2LDEzMi41MTkzNjUgMy4xMzE1MTgyNCwxMjkuMzg3ODQ2IDYuOTk0NDQxNzUsMTI5LjM4Nzg0NiBaIE03OS4xNzM0NjYyLDE1OS4wOTA5MDkgQzcwLjc4NDMzMDgsMTU5LjA5MDkwOSA2My45ODM1OTI4LDE1Mi4yNDMzMjMgNjMuOTgzNTkyOCwxNDMuNzk2Mzk2IEM2My45ODM1OTI4LDEzNS4zNDk0NyA3MC43ODQzMzA4LDEyOC41MDE4ODQgNzkuMTczNDY2MiwxMjguNTAxODg0IEM4Ny41NjI2MDE3LDEyOC41MDE4ODQgOTQuMzYzMzM5NywxMzUuMzQ5NDcgOTQuMzYzMzM5NywxNDMuNzk2Mzk2IEM5NC4zNjMzMzk3LDE1Mi4yNDMzMjMgODcuNTYyNjAxNywxNTkuMDkwOTA5IDc5LjE3MzQ2NjIsMTU5LjA5MDkwOSBaIE0xNjMuNDk0MDI0LDE1OS4wOTA5MDkgQzE1NS4xMDQ4ODgsMTU5LjA5MDkwOSAxNDguMzA0MTUsMTUyLjI0MzMyMyAxNDguMzA0MTUsMTQzLjc5NjM5NiBDMTQ4LjMwNDE1LDEzNS4zNDk0NyAxNTUuMTA0ODg4LDEyOC41MDE4ODQgMTYzLjQ5NDAyNCwxMjguNTAxODg0IEMxNzEuODgzMTU5LDEyOC41MDE4ODQgMTc4LjY4Mzg5NywxMzUuMzQ5NDcgMTc4LjY4Mzg5NywxNDMuNzk2Mzk2IEMxNzguNjgzODk3LDE1Mi4yNDMzMjMgMTcxLjg4MzE1OSwxNTkuMDkwOTA5IDE2My40OTQwMjQsMTU5LjA5MDkwOSBaIiBpZD0iQ29tYmluZWQtU2hhcGUiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="/>MHC Antd Admin</a></div><div class="ant-col-xs-0 ant-col-sm-0 ant-col-md-18 ant-col-lg-19 ant-col-xl-19 ant-col-xxl-20"><div id="search-box"><i class="anticon anticon-search"></i><input type="text" placeholder="Search in mhc.antd.admin" class="ant-input"/></div><button style="margin-top:16px;margin-right:16px;border-radius:40px" type="button" class="ant-btn preview version"><i class="anticon anticon-eye-o"></i><span>预览 </span><span>0.0.19</span></button><ul class="ant-menu menu-site ant-menu-light ant-menu-root ant-menu-horizontal" id="nav" role="menu"><li class="ant-menu-item" role="menuitem"><a href="/"><span>Home</span></a></li><li class="ant-menu-item ant-menu-item-selected" role="menuitem"><a href="/docs/react/introduce"><span>Components</span></a></li></ul></div></div></header><div class="main-wrapper"><div class="ant-row"><div class="main-menu ant-col-xs-24 ant-col-sm-24 ant-col-md-24 ant-col-lg-6 ant-col-xl-5 ant-col-xxl-4"><ul class="ant-menu aside-container menu-site ant-menu-light ant-menu-root ant-menu-inline" role="menu"><li class="ant-menu-item" role="menuitem" style="padding-left:40px"><a href="/docs/react/getting-started">Getting Started</a></li><li class="ant-menu-item ant-menu-item-selected" role="menuitem" style="padding-left:40px"><a href="/docs/react/practical-projects">Real project with dva</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:40px"><a href="/CHANGELOG">更新日志</a></li><li class="ant-menu-item" role="menuitem" style="padding-left:40px"><a href="/docs/react/contributing">Contributing</a></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="menuitem"><div style="padding-left:40px" class="ant-menu-submenu-title" aria-expanded="true" aria-owns="Components$Menu" aria-haspopup="true"><h4>Components</h4><i class="ant-menu-submenu-arrow"></i></div><ul id="Components$Menu" class="ant-menu  ant-menu-sub ant-menu-inline" role="menu"><li class=" ant-menu-item-group"><div class="ant-menu-item-group-title" title="Data Display">Data Display</div><ul class="ant-menu-item-group-list"><li class="ant-menu-item" role="menuitem" style="padding-left:80px"><a href="/components/DescriptionList/"><span>DescriptionList</span><span class="chinese">描述列表</span></a></li><li class="ant-menu-item" role="menuitem" style="padding-left:80px"><a href="/components/Ellipsis/"><span>Ellipsis</span><span class="chinese">文本自动省略号</span></a></li><li class="ant-menu-item" role="menuitem" style="padding-left:80px"><a href="/components/Offcanvas/"><span>Offcanvas</span><span class="chinese">滑动展示层</span></a></li><li class="ant-menu-item" role="menuitem" style="padding-left:80px"><a href="/components/TagSelect/"><span>TagSelect</span><span class="chinese">标签选择器</span></a></li><li class="ant-menu-item" role="menuitem" style="padding-left:80px"><a href="/components/XSelect/"><span>XSelect</span><span class="chinese">下拉选择器</span></a></li><li class="ant-menu-item" role="menuitem" style="padding-left:80px"><a href="/components/XRadioGroup/"><span>XRadioGroup</span><span class="chinese">筛选组</span></a></li><li class="ant-menu-item" role="menuitem" style="padding-left:80px"><a href="/components/XForm/"><span>XForm</span><span class="chinese">通用表单</span></a></li><li class="ant-menu-item" role="menuitem" style="padding-left:80px"><a href="/components/XTable/"><span>XTable</span><span class="chinese">通用列表</span></a></li></ul></li></ul></li></ul></div><div class="main-container ant-col-xs-24 ant-col-sm-24 ant-col-md-24 ant-col-lg-18 ant-col-xl-19 ant-col-xxl-20"><article class="markdown"><h1>Real project with dva<a class="edit-button" href="https://github.com/ant-design/ant-design/edit/master/docs/react/practical-projects.en-US.md" target="_blank" rel="noopener noreferrer"><i class="anticon anticon-edit"></i></a></h1><section class="markdown"><p><a href="https://github.com/dvajs/dva">dva</a> is a React and redux based, lightweight and elm-style framework, which supports side effects, hot module replacement, dynamic on demand, react-native, and SSR. It has been widely used in production environments.</p><p>This article will guide you to create a simple application from zero using dva and antd.</p><p>Include the following:</p></section><div class="toc-affix"><div class=""><ul class="toc"><li><a class="bisheng-toc-h2" href="#Install-dva-cli" title="Install dva-cli">Install dva-cli</a></li><li><a class="bisheng-toc-h2" href="#Create-New-App" title="Create New App">Create New App</a></li><li><a class="bisheng-toc-h2" href="#Integrate-antd" title="Integrate antd">Integrate antd</a></li><li><a class="bisheng-toc-h2" href="#Define-Router" title="Define Router">Define Router</a></li><li><a class="bisheng-toc-h2" href="#Write-UI-Components" title="Write UI Components">Write UI Components</a></li><li><a class="bisheng-toc-h2" href="#Define-Model" title="Define Model">Define Model</a></li><li><a class="bisheng-toc-h2" href="#Connect" title="Connect">Connect</a></li><li><a class="bisheng-toc-h2" href="#Build" title="Build">Build</a></li><li><a class="bisheng-toc-h2" href="#What&#x27;s-Next" title="What&#x27;s Next">What&#x27;s Next</a></li></ul></div></div><section class="markdown"><h2 id="Install-dva-cli"><span>Install dva-cli</span><a href="#Install-dva-cli" class="anchor">#</a></h2><p>Install dva-cli with npm, and make sure the version is later than <code>0.9.1</code>.</p><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> dva-cli -g
$ dva -v
dva-cli version 0.9.1</code></pre><h2 id="Create-New-App"><span>Create New App</span><a href="#Create-New-App" class="anchor">#</a></h2><p>After you have installed dva-cli, you can have access to the <code>dva</code> command in terminal (<a href="http://stackoverflow.com/questions/15054388/global-node-modules-not-installing-correctly-command-not-found">can&#x27;t access?</a>). Now, create a new application with <code>dva new</code>.</p><pre class="language-bash"><code>$ dva new dva-quickstart</code></pre><p>This creates a <code>dva-quickstart</code> directory, that contains the project directories and files, and provides a development server, build script, mock service, proxy server and so on.</p><p>Then <code>cd</code> to the <code>dva-quickstart</code> directory, and start the development server.</p><pre class="language-bash"><code>$ <span class="token function">cd</span> dva-quickstart
$ <span class="token function">npm</span> start</code></pre><p>After a few seconds, you will see the following output:</p><pre class="language-bash"><code>Compiled successfully<span class="token operator">!</span>

The app is running at:

  http://localhost:8000/

Note that the development build is not optimized.
To create a production build, use <span class="token function">npm</span> run build.</code></pre><p>Open <a href="http://localhost:8000">http://localhost:8000</a> in your browser, you will see the dva welcome page.</p><h2 id="Integrate-antd"><span>Integrate antd</span><a href="#Integrate-antd" class="anchor">#</a></h2><p>Install <code>antd</code> and <code>babel-plugin-import</code> with npm. <code>babel-plugin-import</code> is used to automatically import scripts and stylesheets from antd on demand. See <a href="https://github.com/ant-design/babel-plugin-import">repo</a> 。</p><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> antd babel-plugin-import --save</code></pre><p>Edit <code>.webpackrc</code> to integrate <code>babel-plugin-import</code>.</p><pre class="language-diff"><code>{
<span class="token inserted">+  "extraBabelPlugins": [</span>
<span class="token inserted">+    ["import", { "libraryName": "antd", "libraryDirectory": "es", "style": "css" }]</span>
<span class="token inserted">+  ]</span>
}</code></pre><blockquote><p>Notice: dva-cli&#x27;s build and dev is based on roadhog, view <a href="https://github.com/sorrycc/roadhog/blob/master/README_en-us.md#configuration">roadhog#Configuration</a> for more <code>.webpackrc</code> Configuration.</p></blockquote><h2 id="Define-Router"><span>Define Router</span><a href="#Define-Router" class="anchor">#</a></h2><p>We need to write an application displaying the list of products. The first step is to create a route.</p><p>Create a route component <code>routes/Products.js</code>:</p><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> Products <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>h2<span class="token operator">></span>List <span class="token keyword">of</span> Products<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Products<span class="token punctuation">;</span></code></pre><p>Add routing information to router, edit <code>router.js</code>:</p><pre class="language-diff"><code><span class="token inserted">+ import Products from './routes/Products';</span>
...
<span class="token inserted">+ &lt;Route path="/products" exact component={Products} /></span></code></pre><p>Then open <a href="http://localhost:8000/#/products">http://localhost:8000/#/products</a> in your browser, you should be able to see the <code>&lt;h2&gt;</code> tag defined before.</p><h2 id="Write-UI-Components"><span>Write UI Components</span><a href="#Write-UI-Components" class="anchor">#</a></h2><p>As your application grows and you notice you are sharing UI elements between multiple pages (or using them multiple times on the same page), in dva it&#x27;s called reusable components.</p><p>Let&#x27;s create a <code>ProductList</code> component that we can use in multiple places to show a list of products.</p><p>Create <code>components/ProductList.js</code> by typing:</p><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">'prop-types'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Table<span class="token punctuation">,</span> Popconfirm<span class="token punctuation">,</span> Button <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> ProductList <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> onDelete<span class="token punctuation">,</span> products <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> columns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> <span class="token string">'Name'</span><span class="token punctuation">,</span>
    dataIndex<span class="token punctuation">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    title<span class="token punctuation">:</span> <span class="token string">'Actions'</span><span class="token punctuation">,</span>
    render<span class="token punctuation">:</span> <span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>Popconfirm title<span class="token operator">=</span><span class="token string">"Delete?"</span> onConfirm<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">onDelete</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">></span>
          <span class="token operator">&lt;</span>Button<span class="token operator">></span>Delete<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Popconfirm<span class="token operator">></span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>Table
      dataSource<span class="token operator">=</span><span class="token punctuation">{</span>products<span class="token punctuation">}</span>
      columns<span class="token operator">=</span><span class="token punctuation">{</span>columns<span class="token punctuation">}</span>
    <span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

ProductList<span class="token punctuation">.</span>proptypes <span class="token operator">=</span> <span class="token punctuation">{</span>
  onDelete<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>func<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
  products<span class="token punctuation">:</span> PropTypes<span class="token punctuation">.</span>array<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> ProductList<span class="token punctuation">;</span></code></pre><h2 id="Define-Model"><span>Define Model</span><a href="#Define-Model" class="anchor">#</a></h2><p>After completing the UI, we will begin processing the data and logic.</p><p>dva manages the domain model with <code>model</code>, with reducers for synchronous state updates, effects for async logic, and subscriptions for data source subscribe.</p><p>Let&#x27;s create a model <code>models/products.js</code> by typing:</p><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  namespace<span class="token punctuation">:</span> <span class="token string">'products'</span><span class="token punctuation">,</span>
  state<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  reducers<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">'delete'</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> <span class="token punctuation">{</span> payload<span class="token punctuation">:</span> id <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> state<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token operator">></span> item<span class="token punctuation">.</span>id <span class="token operator">!==</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre><p>In this model:</p><ul><li><p><code>namespace</code> represents the key on global state</p></li><li><p><code>state</code> is the initial value, here it is an empty array</p></li><li><p><code>reducers</code> is equivalent to a reducer in redux, accepting an action, and update state simultaneously</p></li></ul><p>Then don&#x27;t forget to require it in <code>index.js</code>:</p><pre class="language-diff"><code>// 3. Model
<span class="token inserted">+ app.model(require('./models/products').default);</span></code></pre><h2 id="Connect"><span>Connect</span><a href="#Connect" class="anchor">#</a></h2><p>So far, we have completed a separate model and component. How do we connect them together?</p><p>dva provides a <code>connect</code> method. If you are familiar with redux, this <code>connect</code> is from react-router.</p><p>Edit <code>routes/Products.js</code> and replace it with the following:</p><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> connect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'dva'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ProductList <span class="token keyword">from</span> <span class="token string">'../components/ProductList'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> Products <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> dispatch<span class="token punctuation">,</span> products <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">handleDelete</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      type<span class="token punctuation">:</span> <span class="token string">'products/delete'</span><span class="token punctuation">,</span>
      payload<span class="token punctuation">:</span> id<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>h2<span class="token operator">></span>List <span class="token keyword">of</span> Products<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">></span>
      <span class="token operator">&lt;</span>ProductList onDelete<span class="token operator">=</span><span class="token punctuation">{</span>handleDelete<span class="token punctuation">}</span> products<span class="token operator">=</span><span class="token punctuation">{</span>products<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// export default Products;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> products <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  products<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Products<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Finally, we need some initial data to make the application run together. Edit <code>index.js</code>:</p><pre class="language-diff"><code><span class="token deleted">- const app = dva();</span>
<span class="token inserted">+ const app = dva({</span>
<span class="token inserted">+   initialState: {</span>
<span class="token inserted">+     products: [</span>
<span class="token inserted">+       { name: 'dva', id: 1 },</span>
<span class="token inserted">+       { name: 'antd', id: 2 },</span>
<span class="token inserted">+     ],</span>
<span class="token inserted">+   },</span>
<span class="token inserted">+ });</span></code></pre><p>Refresh your browser, you should see the following result:</p><p style="text-align:center"><img src="https://zos.alipayobjects.com/rmsportal/GQJeDDeUCSTRMMg.gif"/></p><h2 id="Build"><span>Build</span><a href="#Build" class="anchor">#</a></h2><p>Now that we&#x27;ve written our application and verified that it works in development, it&#x27;s time to get it ready for deployment to our users. To do so, run the following command:</p><pre class="language-bash"><code>$ <span class="token function">npm</span> run build</code></pre><p>After a few seconds, the output should be as follows:</p><pre class="language-bash"><code><span class="token operator">></span> @ build /private/tmp/myapp
<span class="token operator">></span> roadhog build

Creating an optimized production build<span class="token punctuation">..</span>.
Compiled successfully.

File sizes after gzip:

  82.98 KB  dist/index.js
  270 B     dist/index.css</code></pre><p>The <code>build</code> command packages up all of the assets that make up your application —— JavaScript, templates, CSS, web fonts, images, and more. Then you can find these files in the <code>dist /</code> directory.</p><h2 id="What&#x27;s-Next"><span>What&#x27;s Next</span><a href="#What&#x27;s-Next" class="anchor">#</a></h2><p>We have completed a simple application, but you may still have lots of questions, such as:</p><ul><li><p>How to deal with async logic</p></li><li><p>How to load initial data elegantly</p></li><li><p>How to handle onError globally and locally</p></li><li><p>How to load Routes and Models on demand</p></li><li><p>How to implement HMR</p></li><li><p>How to mock data</p></li><li><p>and so on...</p></li></ul><p>You can:</p><ul><li><p>Visit <a href="https://dvajs.com/">dva official website</a>.</p></li><li><p>Be familiar with the <a href="https://dvajs.com/guide/concepts.html">8 Concepts</a>, and understand how they are connected together</p></li><li><p>Know all <a href="https://dvajs.com/api/">dva APIs</a></p></li><li><p>Checkout <a href="https://dvajs.com/knowledgemap/">dva knowledgemap</a>, including all the basic knowledge with ES6, React, dva</p></li><li><p>Checkout <a href="https://github.com/dvajs/dva/issues?q=is%3Aissue+is%3Aclosed+label%3Afaq">more FAQ</a></p></li><li><p>If your project is created with <a href="https://github.com/dvajs/dva-cli">dva-cli</a> , checkout how to <a href="https://github.com/sorrycc/roadhog#configuration">Configure it</a></p></li></ul></section><section class="markdown api-container"></section></article></div></div><div class="ant-row"><div class="ant-col-xs-24 ant-col-sm-24 ant-col-md-24 ant-col-lg-18 ant-col-lg-offset-6 ant-col-xl-19 ant-col-xl-offset-5 ant-col-xxl-20 ant-col-xxl-offset-4"><section class="prev-next-nav"><a class="prev-page" href="/docs/react/getting-started">Getting Started</a><a class="next-page" href="/CHANGELOG">更新日志</a></section></div></div></div><footer id="footer"><div class="footer-wrap"><div class="ant-row"><div class="ant-col-xs-24 ant-col-sm-24 ant-col-md-6"><div class="footer-center"><h2><span>Resources</span></h2><div><a href="http://pro.ant.design">Ant Design Pro</a></div><div><a href="http://mobile.ant.design">Ant Design Mobile</a></div></div></div><div class="ant-col-xs-24 ant-col-sm-24 ant-col-md-6"><div class="footer-center"><h2><span>Community</span></h2><div><a target="_blank" rel="noopener noreferrer" href="http://zhuanlan.zhihu.com/antdesign"><span>Zhihu</span></a></div></div></div><div class="ant-col-xs-24 ant-col-sm-24 ant-col-md-6"><div class="footer-center"><h2><span>Help</span></h2><div><a target="_blank " href="https://github.com/git-lt/mhc-antd-admin">GitHub</a></div><div><a href="/CHANGELOG-cn"><span>Change Log</span></a></div></div></div></div></div><div class="bottom-bar">Made with <span class="heart">❤</span> by <span>AFX</span></div></footer></div>
    </div>
    <link rel="stylesheet/less" type="text/css" href="/mhc-antd-admin/color.less"/>
    <script src="/mhc-antd-admin/common.js"></script>
    <script src="/mhc-antd-admin/index.js"></script>
  <script type="text/javascript" src="/mhc-antd-admin/runtime.d244e8.js"></script><script type="text/javascript" src="/mhc-antd-admin/common.00e9a8.js"></script><script type="text/javascript" src="/mhc-antd-admin/index.a3d066.js"></script></body>
</html>
